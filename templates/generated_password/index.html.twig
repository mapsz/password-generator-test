{% extends 'base.html.twig' %}

{% block title %}Генератор паролей{% endblock %}

{% block body %}
<style>
    .wrapper {max-width: 760px;margin:2rem auto;font-family: system-ui, sans-serif;}
    h1 {margin:0 0 1rem;font-size:1.8rem;}
    .panel {border:1px solid #ccc;border-radius:8px;padding:1.25rem;box-shadow:2px 2px 6px rgba(0,0,0,.08);background:#fff;}
    .result {background:#f3f8f3;border:1px solid #c9e4c9;padding:.75rem 1rem;border-radius:6px;margin-bottom:1rem;}
    .result code {font-size:1.25rem;word-break:break-all;display:block;}
    .errors {background:#f8d7da;border:1px solid #f5c2c7;color:#842029;padding:.75rem 1rem;border-radius:6px;margin-bottom:1rem;}
    .errors ul {margin:.25rem 0;padding-left:1.25rem;}
    form .group {margin-bottom:1rem;}
    label {display:block;font-weight:600;margin-bottom:.35rem;}
    input[type="number"] {width:120px;padding:.4rem .5rem;border:1px solid #bbb;border-radius:4px;font-size:1rem;}
    .checks label {display:inline-block;font-weight:400;margin:0 1rem .5rem 0;}
    .checks input {margin-right:.35rem;}
    button.generate {background:#0d6efd;color:#fff;border:none;padding:.7rem 1.2rem;font-size:1rem;border-radius:6px;cursor:pointer;}
    button.generate:hover {background:#0b5ed7;}
    button.copy {background:#6c757d;color:#fff;border:none;padding:.45rem .9rem;font-size:.9rem;border-radius:5px;cursor:pointer;}
    button.copy.copied {background:#198754;}
    small.meta {display:block;margin-top:1.25rem;color:#666;font-size:.75rem;text-align:right;}
    @media (max-width:600px){.panel{padding:1rem}.checks label{display:block}}
</style>

<div class="wrapper">
    <div class="panel">
        <h1>Password Generator</h1>

        <div>
            {% for message in app.flashes('error') %}
                <div class="alert alert-danger">{{ message }}</div>
            {% endfor %}

            {% if form.vars.errors|length > 0 %}
                <div class="errors">
                    {{ form_errors(form) }}
                </div>
            {% endif %}
        </div>

        {% if generatedPassword %}
            <div class="result">
                <code id="password">{{ generatedPassword }}</code>
            </div>
        {% endif %}

        {{ form_start(form, {'attr': {'data-turbo': 'false'}}) }}
            <div class="group">
                <label>{{ form_label(form.length) }}</label>
                {{ form_widget(form.length) }}
                {{ form_errors(form.length) }}
            </div>

            <div class="group checks">
                <div>
                    {{ form_widget(form.useUppercase) }}
                    {{ form_label(form.useUppercase) }}
                    {{ form_errors(form.useUppercase) }}
                </div>
                <div>
                    {{ form_widget(form.useLowercase) }}
                    {{ form_label(form.useLowercase) }}
                    {{ form_errors(form.useUppercase) }}
                </div>
                <div>
                    {{ form_widget(form.useNumbers) }}
                    {{ form_label(form.useNumbers) }}
                    {{ form_errors(form.useUppercase) }}
                </div>
            </div>

            <div class="group">
                {{ form_widget(form.generate, {'attr': {'class': 'generate'}}) }}
            </div>
        {{ form_end(form) }}
    </div>
</div>
{% endblock %}
